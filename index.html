<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá Th·ªëng T∆∞·ªüng Ni·ªám Nh√¢n D√¢n S·ªë</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f8f7f2; }
        .serif { font-family: 'Playfair Display', serif; }
        .card-shadow { box-shadow: 0 4px 20px rgba(0,0,0,0.03); }
        .hero-gradient { background: linear-gradient(to bottom, #ffffff, #f8f7f2); }
    </style>
</head>
<body>

<div id="app">
    <nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-stone-200 p-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col lg:flex-row justify-between items-center gap-4">
                <h1 @click="selectedPerson = null" class="serif text-xl font-bold tracking-tighter text-stone-800 cursor-pointer uppercase">
                    Nghƒ©a Trang Nh√¢n D√¢n S·ªë
                </h1>
                
                <div class="flex flex-wrap items-center gap-3 w-full lg:w-auto">
                    <input v-model="searchTerm" type="text" placeholder="T√¨m t√™n, qu√™ qu√°n, ƒë∆°n v·ªã..." 
                        class="flex-grow lg:w-64 px-4 py-2 bg-stone-100 border-none rounded-lg focus:ring-2 focus:ring-stone-300 outline-none text-sm">
                    
                    <select v-model="filterType" class="px-3 py-2 bg-stone-100 rounded-lg text-sm outline-none border-none">
                        <option value="">T·∫•t c·∫£ ƒë·ªëi t∆∞·ª£ng</option>
                        <option value="li·ªát sƒ©">Anh h√πng/Li·ªát sƒ©</option>
                        <option value="d√¢n th∆∞·ªùng">Ng∆∞·ªùi d√¢n</option>
                        <option value="ng∆∞·ªùi n∆∞·ªõc ngo√†i">Ng∆∞·ªùi n∆∞·ªõc ngo√†i</option>
                        <option value="ki·ªÅu b√†o">Ng∆∞·ªùi Vi·ªát ·ªü n∆∞·ªõc ngo√†i</option>
                    </select>

                    <select v-model="filterProvince" class="px-3 py-2 bg-stone-100 rounded-lg text-sm outline-none border-none">
                        <option value="">T·∫•t c·∫£ c√°c t·ªânh</option>
                        <option v-for="p in provinces" :key="p" :value="p">{{ p }}</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-10">
        
        <div v-if="!selectedPerson">
            <header class="text-center mb-12">
                <h2 class="serif text-3xl font-light text-stone-700">C√µi Vƒ©nh H·∫±ng</h2>
                <p class="text-stone-500 mt-2 text-sm uppercase tracking-widest">L∆∞u gi·ªØ k√Ω ·ª©c cho tri·ªáu ng∆∞·ªùi con ƒë·∫•t Vi·ªát</p>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <div v-for="person in filteredMemorials" :key="person.id" 
                    @click="selectedPerson = person"
                    class="bg-white rounded-xl p-6 card-shadow hover:-translate-y-1 transition-all cursor-pointer border border-stone-100">
                    
                    <div class="flex items-center gap-4 mb-4">
                        <img :src="person.image || 'https://via.placeholder.com/150'" class="w-16 h-16 rounded-full grayscale object-cover ring-2 ring-stone-100">
                        <div>
                            <h3 class="serif text-lg font-bold text-stone-800">{{ person.name }}</h3>
                            <p class="text-[10px] text-emerald-700 font-bold uppercase tracking-tighter">{{ person.type }}</p>
                        </div>
                    </div>
                    
                    <div class="space-y-1 mb-4">
                        <p class="text-xs text-stone-500 flex items-center gap-1">
                            <span>üìÖ</span> {{ person.birth }} ‚Äî {{ person.death }}
                        </p>
                        <p class="text-xs text-stone-500 flex items-center gap-1">
                            <span>üè†</span> {{ person.homeTown.province }}
                        </p>
                    </div>

                    <div class="flex justify-between items-center pt-4 border-t border-stone-50">
                        <span class="text-[10px] text-stone-400">üî• {{ person.candles }} Tri √¢n</span>
                        <span class="text-[10px] text-stone-400">üå∏ {{ person.flowers }} D√¢ng hoa</span>
                    </div>
                </div>
            </div>
            
            <div v-if="filteredMemorials.length === 0" class="text-center py-20 text-stone-400">
                Kh√¥ng t√¨m th·∫•y th√¥ng tin ph√π h·ª£p trong d·ªØ li·ªáu.
            </div>
        </div>

        <div v-else class="max-w-5xl mx-auto">
            <button @click="selectedPerson = null" class="mb-6 text-stone-500 hover:text-stone-800 flex items-center gap-2">
                ‚Üê Quay l·∫°i danh s√°ch
            </button>

            <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-stone-100">
                <div class="md:flex">
                    <div class="md:w-1/3 bg-stone-50 p-10 flex flex-col items-center border-r border-stone-100">
                        <img :src="selectedPerson.image" class="w-48 h-48 rounded-full border-8 border-white shadow-lg grayscale mb-6 object-cover">
                        <div class="w-full space-y-3">
                            <button @click="interact('candles')" class="w-full py-3 bg-white border rounded-xl hover:bg-orange-50 transition flex justify-between px-4 text-sm">
                                <span>üî• Th·∫Øp nhang</span>
                                <span class="font-bold">{{ selectedPerson.candles }}</span>
                            </button>
                            <button @click="interact('flowers')" class="w-full py-3 bg-white border rounded-xl hover:bg-emerald-50 transition flex justify-between px-4 text-sm">
                                <span>üå∏ D√¢ng hoa</span>
                                <span class="font-bold">{{ selectedPerson.flowers }}</span>
                            </button>
                        </div>
                    </div>

                    <div class="md:w-2/3 p-10">
                        <div class="mb-8">
                            <span class="px-3 py-1 bg-stone-800 text-white text-[10px] rounded-full uppercase tracking-widest">{{ selectedPerson.type }}</span>
                            <h2 class="serif text-4xl font-bold mt-4 text-stone-800">{{ selectedPerson.name }}</h2>
                            <p class="text-stone-500 italic mt-2">{{ selectedPerson.birth }} ‚Äî {{ selectedPerson.death }}</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10 text-sm">
                            <div class="p-4 bg-stone-50 rounded-xl">
                                <p class="text-stone-400 uppercase text-[10px] font-bold mb-1">Qu√™ qu√°n</p>
                                <p class="text-stone-700">{{ selectedPerson.homeTown.commune }}, {{ selectedPerson.homeTown.district }}, {{ selectedPerson.homeTown.province }}</p>
                            </div>
                            <div v-if="selectedPerson.deathPlace" class="p-4 bg-stone-50 rounded-xl">
                                <p class="text-stone-400 uppercase text-[10px] font-bold mb-1">N∆°i hy sinh/m·∫•t</p>
                                <p class="text-stone-700">{{ selectedPerson.deathPlace }}</p>
                            </div>
                            <div class="p-4 bg-stone-50 rounded-xl">
                                <p class="text-stone-400 uppercase text-[10px] font-bold mb-1">N∆°i an ngh·ªâ</p>
                                <p class="text-stone-700">{{ selectedPerson.restingPlace.locationName }} ({{ selectedPerson.restingPlace.country }})</p>
                            </div>
                            <div v-if="selectedPerson.unit" class="p-4 bg-stone-50 rounded-xl">
                                <p class="text-stone-400 uppercase text-[10px] font-bold mb-1">ƒê∆°n v·ªã / Ch·ª©c v·ª•</p>
                                <p class="text-stone-700">{{ selectedPerson.unit }} - {{ selectedPerson.rank }}</p>
                            </div>
                        </div>

                        <div class="mb-10">
                            <h4 class="text-[10px] font-bold uppercase text-stone-400 mb-4 tracking-widest border-b pb-2">Ti·ªÉu s·ª≠ / Ghi ch√©p</h4>
                            <p class="text-stone-600 leading-relaxed">{{ selectedPerson.bio }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-20 text-center text-stone-400 text-[10px] uppercase tracking-[0.2em]">
        H·ªá th·ªëng d·ªØ li·ªáu s·ªë qu·ªëc gia - V√¨ m·ªôt tri·ªáu k√Ω ·ª©c b·∫•t t·ª≠
    </footer>
</div>

<script type="module">
    // Gi·∫£ l·∫≠p d·ªØ li·ªáu t·ª´ data.js (Sau n√†y b·∫°n s·∫Ω t√°ch file n√†y ra)
    const rawData = [
        {
            id: "LS001",
            type: "li·ªát sƒ©",
            name: "V√µ Th·ªã S√°u",
            birth: "1933",
            death: "1952",
            homeTown: { province: "B√† R·ªãa - V≈©ng T√†u", district: "ƒê·∫•t ƒê·ªè", commune: "Ph∆∞·ªõc Long Th·ªç" },
            deathPlace: "Nh√† t√π C√¥n ƒê·∫£o",
            unit: "ƒê·ªôi C√¥ng an xung phong ƒê·∫•t ƒê·ªè",
            rank: "ƒê·ªôi vi√™n",
            restingPlace: { locationName: "Nghƒ©a trang H√†ng D∆∞∆°ng", country: "Vi·ªát Nam" },
            bio: "N·ªØ anh h√πng huy·ªÅn tho·∫°i c·ªßa v√πng ƒê·∫•t ƒê·ªè, hy sinh khi tu·ªïi ƒë·ªùi c√≤n r·∫•t tr·∫ª.",
            image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2G4I7XG4O3G6H-Xz7U6J9M9z6X6Y6z6X6Y6z",
            candles: 4500,
            flowers: 3200
        },
        {
            id: "NN001",
            type: "ng∆∞·ªùi n∆∞·ªõc ngo√†i",
            name: "Moritz Schlesinger",
            birth: "1886",
            death: "1948",
            homeTown: { province: "Berlin", district: "-", commune: "-" },
            deathPlace: "Vi·ªát B·∫Øc",
            unit: "C·ªë v·∫•n Ch√≠nh ph·ªß",
            rank: "Chi·∫øn sƒ© qu·ªëc t·∫ø",
            restingPlace: { locationName: "Nghƒ©a trang B·∫•t B·∫°t, H√† N·ªôi", country: "Vi·ªát Nam" },
            bio: "√îng l√† m·ªôt ng∆∞·ªùi ƒê·ª©c t√¨nh nguy·ªán ƒë·ª©ng trong h√†ng ng≈© Vi·ªát Minh, ƒë√≥ng g√≥p cho n·ªÅn ƒë·ªôc l·∫≠p c·ªßa Vi·ªát Nam.",
            image: "",
            candles: 200,
            flowers: 150
        }
    ];

    const { createApp } = Vue;

    createApp({
        data() {
            return {
                searchTerm: '',
                filterType: '',
                filterProvince: '',
                selectedPerson: null,
                memorials: rawData,
                // Danh s√°ch t·ªânh ƒë·ªÉ l·ªçc (c√≥ th·ªÉ l·∫•y t·ª± ƒë·ªông t·ª´ data)
                provinces: [...new Set(rawData.map(p => p.homeTown.province))]
            }
        },
        computed: {
            filteredMemorials() {
                return this.memorials.filter(p => {
                    const matchName = p.name.toLowerCase().includes(this.searchTerm.toLowerCase()) || 
                                     p.homeTown.province.toLowerCase().includes(this.searchTerm.toLowerCase());
                    const matchType = this.filterType ? p.type === this.filterType : true;
                    const matchProvince = this.filterProvince ? p.homeTown.province === this.filterProvince : true;
                    
                    return matchName && matchType && matchProvince;
                })
            }
        },
        methods: {
            interact(type) {
                this.selectedPerson[type]++;
                // L∆∞u v√†o LocalStorage ho·∫∑c g·ª≠i API
            }
        }
    }).mount('#app')
</script>
</body>
</html>
